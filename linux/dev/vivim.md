# 1. vi

## 1.1. 基础概念

vi有三种模式

命令行模式 command mode  按`ESC` 从插入模式返回命令模式
插入模式 insert mode  
底行模式 last line mode 输入 `:` 在最下面一行键入命令,一般也算作命令模式  

在命令行模式下  
`:wq` 保存并退出  
`:w filename` 将该文件以指定的文件名另存为  
`:q!` 不存盘强制退出  

## 1.2. 键入模式

按 `u` 撤销  
按 `U` 一次撤销,按两次则取消撤销

按 `i` 插入文字,在当前光标位置键入  
按 `a` 追加文字,在当前光标的下一个位置键入文字  
按 `o` 插入新的一行,在行首输入文字
按 `r` 替换光标位置的一个字符,替换后自动返回命令模式  
按 `R` 开始替换字符直到`ESC`返回命令模式  

## 1.3. 命令行模式

### 1.3.1. a.操纵光标

最基础的上下左右移动是 `hjkl` 键  
` 数字0 ` 光标跳到文章开头
`Ctrl + g` 列出光标当前的行号  
` G ` 光标跳到文章末尾 
` #G` 光标跳到指定的行  

整页跳转浏览:  
`Ctrl + b` 屏幕往后/上移动一页 back  
`Ctrl + f` 屏幕往前/下移动一页 forward  
`Ctrl + u` 屏幕往后/上移动半页 up  
`Ctrl + d` 屏幕往前/下移动一页 down  

文字与行跳转:  
` w ` 光标跳到下个字的开头  
` b ` 光标跳到上个字的开头  
` e ` 光标跳到下个字的字尾  

` ^ ` 光标跳到所在行的行首
` $ ` 光标跳到所在行的行尾

` #l ` 光标跳到所在行的第`#`个位置  

### 1.3.2. b. 文字删除  

` x ` 删除光标位置的字符  
` X ` 删除光标位置前面的字符  
` dd ` 删除光标位置的整行

` #x ` 删除光标位置的字符 `#` 个字符  
` #x ` 删除光标位置前面的字符`#`个字符  
` #x ` 从光标位置删除`#`行  

### 1.3.3. c. 文字复制与粘贴

` yw ` 复制光标到字尾的字符到缓冲区  
` #yw ` 复制光标开始的`#`个字符到缓冲区  
` yy ` 复制光标整行字符到缓冲区  
` #yy ` 复制光标开始的`#`行字符到缓冲区  

`p` 粘贴  

## 1.4. last line 模式  

在命令行模式下,键入 `:` 再输入后面的命令进行操作  

`set nu` 再每一行前面列出行号  

` /关键字 ` 向后查找  
` ?关键字 ` 向前查找  
按` n `可以继续寻找下一个,直到需要的关键字  


